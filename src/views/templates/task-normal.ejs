<div class="task">
  <i hidden><%=task.id%></i>
  <div class="task-top">
    <div class="dropdown">
      <button class="dropbtn">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M4.5 2.5H13.5" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M4.5 7H13.5" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M4.5 11.5H13.5" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <div class="dropdown-content" style="display: none;">
        <button class="editbtn">Edit</button>
          <div class="formContainer" style="display: none;">
            <form class="taskForm" action="/edit-task" method="post">
              <%-`<input type="hidden" value="${task.id}" name="id">`%>
              <div class="input-group">
                <label>Name:</label>
                <input type="text" class="taskName" name="taskName" required>
              </div>
              <div class="input-group">
                <label>Description:</label>
                <input type="text" class="taskDescription" name="taskDescription" required>
              </div>
              <div class="input-group">
                <label>Image*:</label>
                <input type="file" class="taskImage" name="taskImage" accept="image/*">
              </div>
              <input type="submit" value="Edit">
            </form>
          </div>
          <form action="/delete-task" method="post">
            <%-`<input type="hidden" value="${task.id}" name="id">`%>
            <input type="submit" value="Delete" class="delete-button"></input>
          </form>
      </div>
    </div>


    <div class="text-area">
      <%=task.description%>
    </div>

  </div>
  <div class="task-bot">
    <div class="task-title"><%=task.title%></div>
    <div class="task-deadline">
      until:
      <% const date = new Date(task.end_date); %>
      <%= date.toLocaleDateString('en-US', {day: 'numeric', month: 'long'}); %>
      ,
      <%= date.toLocaleTimeString('en-US', {hourCycle: 'h23', hour: '2-digit', minute: '2-digit'});  %>
    </div>
  </div>
</div>
